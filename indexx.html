<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Agendamento Rápido</title>
  <style>
    body{font-family:Arial;margin:0;padding:0;background:#f2f2f2;}
    .wrap{display:flex;max-width:800px;margin:40px auto;gap:20px;}
    .form, .lista{background:#fff;padding:20px;border-radius:6px;flex:1;}
    input, button{width:100%;padding:10px;margin:6px 0;box-sizing:border-box;}
    .item{border:1px solid #ddd;padding:8px;margin:4px 0;display:flex;justify-content:space-between;align-items:center;}
    .cancel{background:#e74c3c;color:#fff;border:none;padding:4px 8px;cursor:pointer;}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- FORMULÁRIO -->
    <div class="form">
      <h2>Agendar equipamento</h2>
      <input id="nome" placeholder="Seu nome">
      <input id="equip" placeholder="Nome do equipamento">
      <input id="tempo" placeholder="Tempo de uso (ex: 2h)">
      <button onclick="salvar()">Criar agendamento</button>
    </div>

    <!-- LISTA AO LADO -->
    <div class="lista">
      <h2>Agendamentos</h2>
      <div id="listagem"></div>
    </div>
  </div>

<script>
// Carrega na abertura
atualizar();

function salvar(){
  const n = document.getElementById('nome').value.trim();
  const e = document.getElementById('equip').value.trim();
  const t = document.getElementById('tempo').value.trim();
  if(!n || !e || !t){ alert('Preencha tudo'); return; }

  const lista = JSON.parse(localStorage.getItem('ag') || '[]');
  lista.push({id:Date.now(), nome:n, equip:e, tempo:t});
  localStorage.setItem('ag', JSON.stringify(lista));

  document.getElementById('nome').value = '';
  document.getElementById('equip').value = '';
  document.getElementById('tempo').value = '';

  atualizar();
}

function cancelar(id){
  const senha = prompt('Digite a senha para cancelar:');
  if(senha !== 'engenhariaexata'){ return; }

  const lista = JSON.parse(localStorage.getItem('ag') || '[]');
  const nova = lista.filter(a => a.id !== id);
  localStorage.setItem('ag', JSON.stringify(nova));
  atualizar();
}

function atualizar(){
  const lista = JSON.parse(localStorage.getItem('ag') || '[]');
  const html = lista.map(a => `
    <div class="item">
      <span>${a.nome} - ${a.equip} (${a.tempo})</span>
      <button class="cancel" onclick="cancelar(${a.id})">Cancelar</button>
    </div>
  `).join('');
  document.getElementById('listagem').innerHTML = html || 'Nenhum agendamento.';
}
</script>
</body>
</html>
